
// index.js
//
// Packt Publishing - Build a Network Application with Node
// Respond with different content for various content types

module.exports = function(req, res) {

  var type = "text/plain",
    content = "Challenge: accepted\n";

  if (req.accepts.html) {

    type = "text/html";
    content = '<h3>Challenge:</h3> Accepted <input type="checkbox" name="answer" value="accepted" checked="checked" />';

  } else if (req.accepts.json) {

    type = "application/json";
    content = JSON.stringify({ challenge: "accepted" }) + "\n";

  }
  res.writeHead(200, { "Content-Type": type });
  res.end(content);

};