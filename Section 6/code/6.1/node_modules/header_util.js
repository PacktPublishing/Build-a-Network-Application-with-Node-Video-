
// header_util.js
//
// Packt Publishing - Build a Network Application with Node
// Detect content type accepted by client

module.exports = function() {

  var _headerUtil = function(req, res, next) {

      var acceptHeader = req.headers.accept;

      req.accepts = {
        json: /application\/json/.test(acceptHeader),
        html: /text\/html/.test(acceptHeader)
      };

      next();

    };

  return _headerUtil;
};